<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <!-- icons -->
   
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      <!--css  -->
      <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <aside>
            <div class="top">
                <div class="logo">
                   <p>C-S</p>
                    <h2>CITY-<span class="danger" >SHIRT</span></h2>
                </div>
                <div class="close" id="close-btn">
                    <span class="material-symbols-sharp">
                        close
                        </span>
                </div>
            </div>
            <div class="sidebar">
                <a href="index.html">
                    <span class="material-symbols-sharp">
                        grid_view
                        </span>
                        <h3>dashboard</h3>
                </a>
               
                <a href="customers.html">
                    <span class="material-symbols-sharp">
                        person
                        </span>
                        <h3>customers</h3>
                </a>
                <a  href="">
                    <span  class="material-symbols-sharp">
                        receipt_long
                        </span>
                        <h3 >orders</h3>
                </a>
                <a href="">
                    <span class="material-symbols-sharp">
                        insights
                        </span>
                        <h3>analytics</h3>
                </a>
                <a href="">
                    <span class="material-symbols-sharp">
                        mail
                        </span>
                        <h3>messages</h3>
                        <span class="message-count">
                            0
                        </span>
                </a>
                <a class="active"  href="products.html">
                    <span class="material-symbols-sharp">
                        inventory
                        </span>
                        <h3>products</h3>
                </a>
                <a href="">
                    <span class="material-symbols-sharp">
                        report
                        </span>
                        <h3>reports</h3>
                </a>
                <a href="">
                    <span class="material-symbols-sharp">
                        settings
                        </span>
                        <h3>settings</h3>
                </a>
                <a href="addproduct.html">
                    <span class="material-symbols-sharp">
                     add
                        </span>
                        <h3>add products</h3>
                </a>
                <a href="">
                    <span class="material-symbols-sharp">
                        logout
                        </span>
                        <h3>logout</h3>
                </a>
            </div>
        </aside>
        <main>
            <h1>dashboard</h1>
            <div class="date">
                <input type="date" name="" id="">
            </div>

            <!-- insights -->
            <div class="insights">
                <!-- sales -->
                <div class="sales">
                    <span class="material-symbols-sharp">
                        analytics
                        </span>
                        <div class="middle">
                            <div class="left">
                                <h3>Total sales</h3>
                                <h1>34,000</h1>
                            </div>
                           <div class="progress">
                            <svg>
                                <circle cx="38" cy="38" r="36"></circle>
                            </svg>
                            <div class="number">
                                <p>81%</p>
                            </div>
                           </div>
                        </div>
                        <small class="text-muted">
                            Last 24 hours
                        </small>
                </div>
                <!-- end of sales -->
                 <!-- expencess -->
                 <div class="expenses">
                    <span class="material-symbols-sharp">
                        bar_chart
                        </span>
                        <div class="middle">
                            <div class="left">
                                <h3>Total expenses</h3>
                                <h1>14,000</h1>
                            </div>
                           <div class="progress">
                            <svg>
                                <circle cx="38" cy="38" r="36"></circle>
                            </svg>
                            <div class="number">
                                <p>81%</p>
                            </div>
                           </div>
                        </div>
                        <small class="text-muted">
                            Last 24 hours
                        </small>
                </div>
                <!-- end of expens -->
                 <!-- income -->
                 <div class="income">
                    <span class="material-symbols-sharp">
                        stacked_line_chart
                        </span>
                        <div class="middle">
                            <div class="left">
                                <h3>Total income</h3>
                                <h1>94,000</h1>
                            </div>
                           <div class="progress">
                            <svg>
                                <circle cx="38" cy="38" r="36"></circle>
                            </svg>
                            <div class="number">
                                <p>81%</p>
                            </div>
                           </div>
                        </div>
                        <small class="text-muted">
                            Last 24 hours
                        </small>
                </div>
                <!-- end of income -->
            </div>
            <!-- end insights -->

            <div class="recent-orders">
                <h2>All Products</h2>
                <table>
                    <thead>
                        <tr>
                            <th>product Name</th>
                            <th>product ID</th>
                            <th>detail</th>
                            <th>type</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- <tr>
                            <td>mini dro</td>
                            <td>8977</td>
                            <td>due</td>
                            <td class="warning">pending</td>
                            <td class="primary">Details</td>
                        </tr>
                        <tr>
                            <td>mini dro</td>
                            <td>8977</td>
                            <td>due</td>
                            <td class="warning">pending</td>
                            <td class="primary">Details</td>
                        </tr> -->
                    </tbody>
                </table>
                <a href="">Show All</a>
            </div>
        </main>
        <!-- end of main -->
        <div class="right">
            <div class="top">
                <button id="menu-btn">
                    <span class="material-symbols-sharp">
                        menu
                        </span>
                </button>
                <div class="theme-toggler">
                    <span class="material-symbols-sharp active">
                        light_mode
                        </span>

                        <span class="material-symbols-sharp">
                            dark_mode
                            </span>
                </div>
                <div class="profile">
                    <div class="info">
                        <p>hey, <b>Rajneesh</b> </p> <small class="text-muted">Admin
                        </small>
                    </div>
                    <div class="profile-photo">
                        <img src="../LOGO/istockphoto-136159540-1024x1024.jpg" alt="">
                    </div>
                </div>
            </div>
            <!-- top end -->
            <div class="recent-updates">
                <h2>recent updates</h2>
                <div class="updates">
                    <!--  -->
                 <div class="update">
                    <div class="profile-photo">
                        <img src="../LOGO/th.jfif" alt="">
                    </div>
                    <div class="message">
                        <p><b>Mike t</b> recieved the order</p>
                        <small class="text-muted">4minutes ago</small>
                    </div>
                 </div>
                 <!--  -->
                 <div class="update">
                    <div class="profile-photo">
                        <img src="../LOGO/th.jfif" alt="">
                    </div>
                    <div class="message">
                        <p><b>Mike t</b> recieved the order</p>
                        <small class="text-muted">4minutes ago</small>
                    </div>
                 </div>
                 <!--  -->
                 <div class="update">
                    <div class="profile-photo">
                        <img src="../LOGO/th.jfif" alt="">
                    </div>
                    <div class="message">
                        <p><b>Mike t</b> recieved the order</p>
                        <small class="text-muted">4minutes ago</small>
                    </div>
                 </div>
                 <!--  -->
                </div>
            </div>
            <!-- end recent update -->
            <!-- sales -->
            <div class="sales-analytics">
                <h2>
                    Sales Analytics
                </h2>
                <!--  -->
                <div class="item online">
                    <div class="icon">
                        <span class="material-symbols-sharp">
                            shopping_cart
                            </span>
                    </div>
                   <div class="right">
                    <div class="info">
                        <h3>online orders</h3>
                        <small class="text-muted">Last 24 hours</small>
                    </div>
                   <h5 class="success">+39%</h5>
                   <h3>3897</h3>
                   </div>
                </div>
                <!--  -->
                <div class="item offline">
                    <div class="icon">
                        <span class="material-symbols-sharp">
                            local_mall
                            </span>
                    </div>
                   <div class="right">
                    <div class="info">
                        <h3>offline orders</h3>
                        <small class="text-muted">Last 24 hours</small>
                    </div>
                   <h5 class="danger">+39%</h5>
                   <h3>3897</h3>
                   </div>
                </div>
                <!--  -->
                <div class="item customer">
                    <div class="icon">
                        <span class="material-symbols-sharp">
                            person
                            </span>
                    </div>
                   <div class="right">
                    <div class="info">
                        <h3>customers</h3>
                        <small class="text-muted">Last 24 hours</small>
                    </div>
                   <h5 class="success">+39%</h5>
                   <h3>3897</h3>
                   </div>
                </div>
                <div class="item add-product">
                    <span class="material-symbols-sharp">
                        add
                        </span>
                        <h3>Add product</h3>
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>

<script src="script.js"></script>

<script>
    function fetching (){
    fetch('https://outrageous-cape-bass.cyclic.app/posts/',{
        method: 'GET',
        headers:{
            "content-type": "application/json"
        }
    }).then((res)=>{
        console.log(res)
        return res.json()
    }).then((data)=>{
        append(data)
    }).catch((err)=>{
        console.log(err);
    })
}
fetching()


function append(orders){
orders.forEach((order) => {
    const tr = document.createElement('tr');
  
    let td1= document.createElement('td');
    td1.innerHTML=`${order.name}`
    let td2= document.createElement('td');
    td2.innerHTML=`${order._id}`
    let td3= document.createElement('td');
    td3.innerHTML=`${order.detail}`;
    let td4= document.createElement('td');
    td4.innerHTML=`${order.type}`
    let td5= document.createElement('td');
    td5.setAttribute('class',"danger")
    td5.innerHTML="Delete";
    td5.addEventListener('click', (e)=>{
        e.preventDefault()
        console.log(order._id)
        fetch(`https://outrageous-cape-bass.cyclic.app/posts/delete${order._id}`,{
        method:'DELETE',
        headers:{
            "content-type": "application/json"
        }
    }).then((res)=>{
        console.log(res)
        return res.json()
    }).then((data)=>{
        console.log(data);
        alert(data.message);
        window.location.reload()
        fetching()
    }).catch((err)=>{
        console.log(err);
        
        alert(err.message)
    })
    })
    tr.append(td1,td2,td3,td4,td5);
    document.querySelector('table>tbody').appendChild(tr);

});

}


function Delete(id){
    console.log(id)
}
</script>